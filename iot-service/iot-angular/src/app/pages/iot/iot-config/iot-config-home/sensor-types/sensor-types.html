<div class="d-flex align-items-center mb-3 flex-wrap gap-2">
    <div>
        <h2 class="mb-0">Sensor Types</h2>
        <div class="text-muted small">Master kategori sensor dan unit default</div>
    </div>
    <div class="ms-auto d-flex align-items-center gap-2 flex-wrap justify-content-end">
        <div class="input-group w-auto">
            <span class="input-group-text bg-transparent border-end-0 text-muted"><i class="fa fa-search"></i></span>
            <input type="text" class="form-control border-start-0 ps-0" placeholder="Cari tipe / unit"
                [(ngModel)]="search">
        </div>
        <button class="btn btn-theme" (click)="openCreateDrawer()">
            <i class="fa fa-plus me-2"></i>Tambah Sensor Type
        </button>
    </div> 
</div>

<card class="shadow-sm">
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover text-nowrap align-middle mb-0">
                <thead class="text-uppercase text-muted small">
                    <tr>
                        <th>Code</th>
                        <th>Category</th>
                        <th>Unit</th>
                        <th>Precision</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let type of filteredSensorTypes">
                        <td class="fw-semibold">{{ type.code }}</td>
                        <td>{{ type.category }}</td>
                        <td>
                            <span class="badge bg-dark bg-opacity-25 text-uppercase">{{ type.unit }}</span>
                        </td>
                        <td>{{ type.precision }}</td>
                        <td class="text-muted small">{{ type.description }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="text-center text-muted py-4 border-top" *ngIf="!filteredSensorTypes.length">
            Tidak ada sensor type sesuai pencarian.
        </div>
    </div>
</card>

<app-sensor-type-drawer [isOpen]="isDrawerOpen" (close)="handleDrawerClose()"
    (save)="handleDrawerSave($event)"></app-sensor-type-drawer>