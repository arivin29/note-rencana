<!-- BEGIN desktop-toggler -->
<div class="desktop-toggler">
	<button type="button" class="menu-toggler" (click)="handleToggleSidebarCollapsed($event)">
		<span class="bar"></span>
		<span class="bar"></span>
		<span class="bar"></span>
	</button>
</div>
<!-- BEGIN desktop-toggler -->

<!-- BEGIN mobile-toggler -->
<div class="mobile-toggler">
	<button type="button" class="menu-toggler" (click)="handleToggleMobileSidebar($event)">
		<span class="bar"></span>
		<span class="bar"></span>
		<span class="bar"></span>
	</button>
</div>
<!-- END mobile-toggler -->

<!-- BEGIN brand -->
<div class="brand">
	<a routerLink="/" class="brand-logo">
		<span class="brand-img">
			<span class="brand-img-text text-theme">D</span>
		</span>
		<span class="brand-text">Devetek Helios</span>
	</a>
</div>
<!-- END brand -->

<!-- BEGIN menu -->
<div class="menu">
	<div class="menu-item dropdown">
		<a href="javascript:;" (click)="handleAppToggleClass($event, 'app-header-menu-search-toggled')" class="menu-link">
			<div class="menu-icon"><i class="bi bi-search nav-icon"></i></div>
		</a>
	</div>
	<div class="menu-item dropdown dropdown-mobile-full">
		<a href="javascript:;" data-bs-toggle="dropdown" data-bs-display="static" class="menu-link">
			<div class="menu-icon"><i class="bi bi-grid-3x3-gap nav-icon"></i></div>
		</a>
		<div class="dropdown-menu fade dropdown-menu-end w-300px text-center p-0 mt-1">
			<div class="row row-grid gx-0">
				<div class="col-4">
					<a routerLink="/template/email/inbox" class="dropdown-item text-decoration-none p-3 bg-none">
						<div class="position-relative">
							<i class="bi bi-circle-fill position-absolute text-theme top-0 mt-n2 me-n2 fs-6px d-block text-center w-100"></i>
							<i class="bi bi-envelope h2 opacity-5 d-block my-1"></i>
						</div>
						<div class="fw-500 fs-10px text-inverse">INBOX</div>
					</a>
				</div>
				<div class="col-4">
					<a routerLink="/template/pos/customer-order" target="_blank" class="dropdown-item text-decoration-none p-3 bg-none">
						<div><i class="bi bi-hdd-network h2 opacity-5 d-block my-1"></i></div>
						<div class="fw-500 fs-10px text-inverse">POS SYSTEM</div>
					</a>
				</div>
				<div class="col-4">
					<a routerLink="/template/calendar" class="dropdown-item text-decoration-none p-3 bg-none">
						<div><i class="bi bi-calendar4 h2 opacity-5 d-block my-1"></i></div>
						<div class="fw-500 fs-10px text-inverse">CALENDAR</div>
					</a>
				</div>
			</div>
			<div class="row row-grid gx-0">
				<div class="col-4">
					<a routerLink="/template/helper" class="dropdown-item text-decoration-none p-3 bg-none">
						<div><i class="bi bi-terminal h2 opacity-5 d-block my-1"></i></div>
						<div class="fw-500 fs-10px text-inverse">HELPER</div>
					</a>
				</div>
				<div class="col-4">
					<a routerLink="/template/settings" class="dropdown-item text-decoration-none p-3 bg-none">
						<div class="position-relative">
							<i class="bi bi-circle-fill position-absolute text-theme top-0 mt-n2 me-n2 fs-6px d-block text-center w-100"></i>
							<i class="bi bi-sliders h2 opacity-5 d-block my-1"></i>
						</div>
						<div class="fw-500 fs-10px text-inverse">SETTINGS</div>
					</a>
				</div>
				<div class="col-4">
					<a routerLink="/template/widgets" class="dropdown-item text-decoration-none p-3 bg-none">
						<div><i class="bi bi-collection-play h2 opacity-5 d-block my-1"></i></div>
						<div class="fw-500 fs-10px text-inverse">WIDGETS</div>
					</a>
				</div>
			</div>
		</div>
	</div>
	<div class="menu-item dropdown dropdown-mobile-full">
		<a href="javascript:;" data-bs-toggle="dropdown" data-bs-display="static" class="menu-link">
			<div class="menu-icon"><i class="bi bi-bell nav-icon"></i></div>
			<div class="menu-badge bg-theme" *ngIf="notificationData.length > 0"></div>
		</a>
		<div class="dropdown-menu dropdown-menu-end mt-1 w-300px fs-11px pt-1">
			<h6 class="dropdown-header fs-10px mb-1">NOTIFICATIONS</h6>
			<div class="dropdown-divider mt-1"></div>
			<ng-container *ngIf="notificationData.length > 0">
				<a href="javascript:;" class="d-flex align-items-center py-10px dropdown-item text-wrap fw-semibold" *ngFor="let notification of notificationData">
					<div class="fs-20px">
						<i *ngIf="notification.icon" [ngClass]="notification.icon"></i>
					</div>
					<div class="flex-1 flex-wrap ps-3">
						<div class="mb-1 text-inverse">{{ notification.title }}</div>
						<div class="small text-inverse text-opacity-50">{{ notification.time }}</div>
					</div>
					<div class="ps-2 fs-16px">
						<i class="bi bi-chevron-right"></i>
					</div>
				</a>
			</ng-container>
			<ng-container *ngIf="notificationData.length == 0">
				<div class="d-flex align-items-center py-10px dropdown-item text-wrap fs-6 bg-inverse bg-opacity-15 text-inverse text-opacity-50 h-100px">
					No record found
				</div>
			</ng-container>
			<hr class="my-0 mt-2">
			<div class="py-10px mb-n2 text-center">
				<a href="javascript:;" class="text-decoration-none fw-bold">SEE ALL</a>
			</div>
		</div>
	</div>
	<div class="menu-item dropdown dropdown-mobile-full" *ngIf="isAuthenticated">
		<a href="javascript:;" data-bs-toggle="dropdown" data-bs-display="static" class="menu-link">
			<div class="menu-img online">
				<div class="rounded-circle bg-theme text-white d-flex align-items-center justify-content-center" 
				     style="width: 32px; height: 32px; font-size: 1rem; font-weight: 600;">
					{{ getUserInitials() }}
				</div>
			</div>
			<div class="menu-text d-sm-block d-none w-170px">
				<div class="fw-bold">{{ currentUser?.name }}</div>
				<div class="text-muted small">{{ currentUser?.email }}</div>
			</div>
		</a>
		<div class="dropdown-menu dropdown-menu-end me-lg-3 fs-11px mt-1">
			<div class="dropdown-header d-flex align-items-center px-3 py-2 bg-inverse bg-opacity-10">
				<div class="flex-1">
					<div class="fw-bold">{{ currentUser?.name }}</div>
					<div class="small text-muted">{{ currentUser?.email }}</div>
					<span class="badge mt-1" [ngClass]="getRoleBadgeClass()" style="font-size: 0.75rem;">
						{{ currentUser?.role | uppercase }}
					</span>
				</div>
			</div>
			<div class="dropdown-divider"></div>
			<a class="dropdown-item d-flex align-items-center" routerLink="/profile">
				<i class="bi bi-person-circle me-2 text-theme fs-16px"></i> MY PROFILE
			</a>
			<a class="dropdown-item d-flex align-items-center" routerLink="/template/settings">
				<i class="bi bi-gear me-2 text-theme fs-16px"></i> SETTINGS
			</a>
			<div class="dropdown-divider"></div>
			<a class="dropdown-item d-flex align-items-center" href="javascript:;" (click)="handleLogout()">
				<i class="bi bi-box-arrow-right me-2 text-danger fs-16px"></i> LOGOUT
			</a>
		</div>
	</div>
	
	<!-- Login Button (if not authenticated) -->
	<div class="menu-item" *ngIf="!isAuthenticated">
		<a routerLink="/auth/login" class="menu-link">
			<div class="menu-icon"><i class="bi bi-box-arrow-in-right nav-icon"></i></div>
			<div class="menu-text d-sm-block d-none">Login</div>
		</a>
	</div>
</div>
<!-- END menu -->

<!-- BEGIN menu-search -->
<form class="menu-search" method="POST" name="header_search_form">
	<div class="menu-search-container">
		<div class="menu-search-icon"><i class="bi bi-search"></i></div>
		<div class="menu-search-input">
			<input type="text" class="form-control form-control-lg" placeholder="Search menu...">
		</div>
		<div class="menu-search-icon">
			<a href="javascript:;" (click)="handleAppToggleClass($event, 'app-header-menu-search-toggled')"><i class="bi bi-x-lg"></i></a>
		</div>
	</div>
</form>
<!-- END menu-search -->
